{% async:content %}
    {% set buttonLabel = 'components.async.choose-location-link'|localize %}
    {% if location.address %}
        {% set formattedLocation = location.address|address_format_multiline %}
        {% set buttonLabel = formattedLocation|first %}
    {% endif %}
    {{ include('partials/ui/button', {
            label: buttonLabel,
            size: button_size,
            variant: 'text',
            action,
        })
    }}
{% endasync %}

{% async:loading %}
    {{ include('partials/ui/loader') }}
{% endasync %}

{% schema %}
{
    "location": {
        "type": "location",
        "optional": true
    },
    "button_size": {
        "type": "string",
        "optional": true,
        "default": "small"
    },
    "action": {
        "type": "string"
    }
}
{% endschema %}
{{ register_asset('css/components/order-online/scheduling.css') }}
{{ register_asset('js/components/order-online/scheduling.js', { defer: false }) }}

{# dialog assets #}
{{ register_asset('js/components/gallery/dialog.js', { defer: false }) }}
{{ register_asset('css/components/gallery/dialog.css') }}

<template x-if="!dialogExists()">
    <template x-teleport="body">
        {{ include('partials/ui/dialog') }}
    </template>
</template>

{{ register_asset('js/components/order-online/scheduling-dialog.js', { defer: false }) }}
{{ register_asset('css/components/order-online/scheduling-dialog.css') }}

<script id="scheduling-data" type="application/json">
    {{ {
        schedule,
        translations: {
            weekdays: {
                0: 'shared.week.short.sunday'|localize,
                1: 'shared.week.short.monday'|localize,
                2: 'shared.week.short.tuesday'|localize,
                3: 'shared.week.short.wednesday'|localize,
                4: 'shared.week.short.thursday'|localize,
                5: 'shared.week.short.friday'|localize,
                6: 'shared.week.short.saturday'|localize,
            },
        }
    }|json_encode }}
</script>

<div
    x-data="scheduling('scheduling-data')"
    class="scheduling__container"
>
    <p x-text="$store.swf.selectedScheduleTime.time_formatted"></p>
    {% set buttonLabel = 'partials.components.order-online.scheduling.buttons.change'|localize %}
    {{ include('partials/ui/button', { variant: 'text', size: 'small', label: buttonLabel, buttonClasses: 'scheduling__button', action: 'openSchedulingDialog' }) }}
</div>
